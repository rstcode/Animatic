<div class="creator-container container py-5">
  <div class="row justify-content-center g-4">

    <!-- Form Section -->
    <div class="col-lg-5">
      <form [formGroup]="cardForm" (ngSubmit)="onSubmit()" class="creator-form">

        <!-- Title -->
        <div class="form-group">
          <label>Title</label>
          <input formControlName="title" type="text" class="form-control premium-input"
                 placeholder="Amazing Surprise!">
        </div>

        <!-- Description -->
        <div class="form-group">
          <label>Description</label>
          <textarea formControlName="description" rows="2"
                    class="form-control premium-input"
                    placeholder="Add a short message..."></textarea>
        </div>

        <!-- Template Style -->
        <div class="form-group">
          <label>Template Style</label>
          <select class="form-control premium-input" formControlName="template">
            <option value="cinematic">ðŸŽ¬ Cinematic</option>
            <option value="elegant">ðŸŒ« Elegant Fade</option>
            <option value="celebrate2026">âœ¨ Celebrate 2026</option>
            <option value="celebration">ðŸŽ‰ Celebration Pop</option>
            <option value="mystery">ðŸ•¶ Mystery Film</option>
          </select>
        </div>

        <!-- Theme -->
        <div class="form-group">
          <label>Theme</label>
          <select class="form-control premium-input" formControlName="theme">
            <option value="clean">âšª Premium Clean</option>
            <option value="midnight">ðŸŒ’ Midnight</option>
            <option value="cyber">âš¡ Cyber Glow</option>
          </select>
        </div>

        <!-- Reveal Time Optional -->
        <div class="form-group">
          <label>Reveal Time (Optional)</label>
          <input formControlName="revealTime" type="datetime-local"
                 class="form-control premium-input" [min]="todayString" />
        </div>

        <!-- Button -->
        <button class="btn create-btn w-100 mt-3"
                [disabled]="cardForm.invalid">
          {{ editMode ? 'Update':'Create' }} Card
        </button>

      </form>
    </div>

    <!-- Live Preview Section -->
    <div class="preview-wrapper">
      <div class="preview-box"
           [ngClass]="[cardForm.value.template, cardForm.value.theme]">

        <h2 [style.font-family]="cardForm.value.font">
          {{ cardForm.value.title || "Your Title" }}
        </h2>

        <p [style.font-family]="cardForm.value.font">
          {{ cardForm.value.description || "Your description appears hereâ€¦" }}
        </p>
      </div>
    </div>

  </div>
</div>

<div class="share-modal" *ngIf="showShareModal">
  <div class="share-box">
    <h3>Card Created! ðŸŽ‰</h3>
    <p>Share this link:</p>

    <input type="text" [value]="shareUrl" readonly>
    
    <div class="btn-row">
      <button class="btn copy" (click)="copyLink()">Copy</button>
      <button class="btn open" (click)="openInNewTab()">Open</button>
    </div>

    <button class="close-btn" (click)="closeShareModal()">Close</button>
  </div>
</div>

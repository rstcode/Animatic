<app-animatic-loader *ngIf="isLoading"></app-animatic-loader>

<div *ngIf="!isLoading" class="dashboard-container container py-5">

  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="dashboard-title">Your Cards</h1>
    <button class="btn create-btn" routerLink="/creator"> Create + </button>
  </div>

  <ng-container *ngIf="cards && cards.length; else noCards">

    <div *ngIf="cards.length > 0; else noCards" class="row g-4">

        <div class="col-12 col-sm-6 col-xl-4" *ngFor="let card of cards" (click)="viewCard(card.code)">
        <div class="animatic-card">

            <!-- Status -->
            <!-- <div class="status-tag" [ngClass]="isLocked(card) ? 'locked' : 'unlocked'">
            <i class="bi" [ngClass]="isLocked(card) ? 'bi-lock-fill' : 'bi-unlock-fill'"></i>
            </div> -->

            <!-- Title -->
            <h4 class="card-title" [style.fontFamily]="card.font">
            {{ card.title }}
            </h4>

            <!-- Description -->
            <p class="card-desc">{{ card.description || 'No description yet' }}</p>

            <!-- Date -->
            <span class="card-date">{{ card.createdAt | date:'medium' }}</span>

            <!-- Actions -->
            <div class="actions">
                <button (click)="editCard(card.code); $event.stopPropagation()"> <i class="bi bi-pencil-square"></i> </button>

                <button (click)="copyShareLink(card.code); $event.stopPropagation()"><i class="bi bi-share-fill"></i> </button>

                <button class="del" (click)="deleteCard(card.code); $event.stopPropagation()"><i class="bi bi-trash-fill"></i></button>
            </div>

        </div>
        </div>


    </div>

    <ng-template #noCards>
      <div class="text-center mt-5">
        <p class="text-secondary fw-semibold">No Cards Yet</p>
        <button class="btn create-btn"
                routerLink="/creator">+ Create Card</button>
      </div>
    </ng-template>

  </ng-container>

  <ng-template #noCards>
    <div class="text-center mt-5">
      <p class="text-secondary fw-semibold">No Cards Yet</p>
      <button class="btn create-btn" routerLink="/creator">+ Create Card</button>
    </div>
  </ng-template>
</div>
